# Supabase è¿ç§»æ€»ç»“

## ğŸ“Š è¿ç§»æ¦‚è§ˆ

æœ¬æ¬¡è¿ç§»å°†å·¥å°åŠ©å­¦ä¹ åŠ©æ‰‹é¡¹ç›®çš„åç«¯ä» JSON æ–‡ä»¶å­˜å‚¨å®Œæ•´è¿ç§»åˆ° Supabase PostgreSQL æ•°æ®åº“ã€‚

---

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. æ•°æ®åº“è®¾è®¡ä¸åˆå§‹åŒ–

åˆ›å»ºäº† 9 ä¸ªæ ¸å¿ƒè¡¨ï¼Œæ”¯æŒç”¨æˆ·ç®¡ç†ã€å¤šé¡¹ç›®ã€é˜¶æ®µæ•°æ®ã€é…ç½®ç®¡ç†ç­‰åŠŸèƒ½ã€‚

**æ–‡ä»¶**: `backend/scripts/init_supabase_schema.sql`

### 2. æœåŠ¡å±‚é‡æ„

- âœ… `supabase_client.py` - Supabase å®¢æˆ·ç«¯æœåŠ¡
- âœ… `auth_service.py` - è®¤è¯æœåŠ¡ï¼ˆä» JSON è¿ç§»åˆ° Supabaseï¼‰
- âœ… `progress_service.py` - è¿›åº¦æœåŠ¡ï¼ˆå®Œå…¨é‡æ„ï¼Œæ”¯æŒå¤šé¡¹ç›®ï¼‰
- âœ… `config_service.py` - é…ç½®æœåŠ¡ï¼ˆä½¿ç”¨ Supabaseï¼‰

### 3. æ•°æ®è¿ç§»å·¥å…·

- âœ… `init_db_simple.py` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- âœ… `migrate_data.py` - æ•°æ®è¿ç§»è„šæœ¬

### 4. æ–‡æ¡£

- âœ… `SUPABASE_DEPLOYMENT_GUIDE.md` - å®Œæ•´éƒ¨ç½²æŒ‡å—
- âœ… `QUICKSTART.md` - å¿«é€Ÿå¼€å§‹æŒ‡å—
- âœ… `MIGRATION_SUMMARY.md` - è¿ç§»æ€»ç»“

---

## ğŸ¯ æ¶æ„ä¼˜åŠ¿

| ç‰¹æ€§ | JSON æ–‡ä»¶ | Supabase |
|------|-----------|----------|
| å¹¶å‘æ§åˆ¶ | âŒ | âœ… |
| æ•°æ®ä¸€è‡´æ€§ | âŒ | âœ… |
| æŸ¥è¯¢èƒ½åŠ› | âŒ | âœ… |
| æ‰©å±•æ€§ | âŒ | âœ… |
| å¤‡ä»½æ¢å¤ | âŒ | âœ… |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# 1. åˆå§‹åŒ–æ•°æ®åº“ï¼ˆä½¿ç”¨ Supabase Studio Dashboardï¼‰
# è®¿é—® http://10.1.20.75:3000ï¼Œæ‰§è¡Œ init_supabase_schema.sql

# 2. å®‰è£…ä¾èµ–
cd xiaop-v2-dev-deploy/backend
pip install -r requirements.txt

# 3. æ•°æ®è¿ç§»ï¼ˆå¯é€‰ï¼‰
python3 scripts/migrate_data.py

# 4. å¯åŠ¨æœåŠ¡
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

---

## ğŸ“ API å…¼å®¹æ€§

æ‰€æœ‰ç°æœ‰çš„ API ç«¯ç‚¹ä¿æŒä¸å˜ï¼Œå‰ç«¯æ— éœ€ä¿®æ”¹ã€‚

---

**è¿ç§»å®Œæˆæ—¶é—´**: 2026-01-13
**è¿ç§»çŠ¶æ€**: âœ… å®Œæˆ
